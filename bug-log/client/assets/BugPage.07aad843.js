import{n as e,r as t,c as s,p as a,e as l,z as o,d as r,o as c,a as d,b as n,q as i,s as u,v as g,y as p,F as m,x as f,w as b}from"./vendor.97125de4.js";import{P as w,A as B}from"./index.49a7d010.js";import{b as y}from"./BugsService.50111d0d.js";const v={name:"BugPage",setup(){e((async()=>{try{await y.getAllBugs()}catch(e){w.toast(e,"error")}}));const a=o(),l=t({bugsList:s((()=>B.bugs)),newBug:{},filterKey:0,filterOption:["all","closed","open"]});return{state:l,router:a,async createBug(){try{l.newBug.creatorId=B.account.id,l.newBug.closed="true"===l.newBug.closed,l.newBug.closed||delete l.newBug.closedDate;const e=await y.createBug(l.newBug);l.newBug={},w.toast("Added Bug","success"),a.push({name:"BugDetails",params:{id:e.id}})}catch(e){w.toast(e,"error")}},async filterStatus(){try{switch(l.filterKey++,3===l.filterKey&&(l.filterKey=0),l.filterOption[l.filterKey]){case"all":await y.getAllBugs();break;case"closed":await y.getAllBugs(),B.bugs=B.bugs.filter((e=>!0===e.closed));break;case"open":await y.getAllBugs(),B.bugs=B.bugs.filter((e=>!(!0===e.closed)))}}catch(e){w.toast(e,"error")}}}}},x=b();a("data-v-29e2220e");const D={class:"BugPage"},h={class:"row mx-0 mt-2 flex-grow-1 d-flex flex-column"},k=n("div",{class:"col-md-12 py-2"},[n("h4",null,"Create Bug:")],-1),A={class:"col-md-12 col-sm-12 py-2"},C={class:"form-group"},j=n("label",{for:"title"},"Title: ",-1),S={class:"form-group"},U=n("label",{for:"description"},"Description:   ",-1),K={class:"form-group"},O=n("label",{for:"status"},"Status:  ",-1),V=n("option",{value:"false"}," Open ",-1),q=n("option",{value:"true"}," Closed ",-1),L={key:0,class:"form-group"},P=n("label",{for:"closeDate"},"Closed Date: ",-1),I={key:1,class:"form-group"},R=n("label",{for:"closeDate"},"Closed Date: ",-1),T=n("small",{id:"close-date",class:"form-text text-muted"},"Only can fill bug closed!",-1),_=n("button",{type:"submit",class:"btn btn-info"}," Report Bug ",-1),z={class:"row flex-grow-1 d-flex flex-row justify-content-center"},F={class:"col-md-10 border border-dark p-0 pt-1 text-light bg-blue"},E={class:"row m-0"},G=n("div",{class:"col-md-3"},[n("h4",null,"Title:")],-1),H=n("div",{class:"col-md-3"},[n("h4",null,"Reported By:")],-1),J=n("div",{class:"col-md-3"},[n("h4",null,"Last Updated:")],-1),M={class:"col-md-3"},N={class:"row flex-grow-1 d-flex flex-row  justify-content-center mb-1"};l();const Q=x(((e,t,s,a,l,o)=>{const b=r("BugCard");return c(),d("div",D,[n("div",h,[k,n("div",A,[n("form",{class:"d-flex align-items-start justify-conent-between",onSubmit:t[6]||(t[6]=i(((...e)=>a.createBug&&a.createBug(...e)),["prevent"]))},[n("div",C,[j,u(n("input",{type:"text",class:"form-control action",name:"title",id:"title","aria-describedby":"title",placeholder:"title...","onUpdate:modelValue":t[1]||(t[1]=e=>a.state.newBug.title=e),required:""},null,512),[[g,a.state.newBug.title]])]),n("div",S,[U,u(n("textarea",{class:"form-control action",name:"description",id:"description",rows:"3","onUpdate:modelValue":t[2]||(t[2]=e=>a.state.newBug.description=e),required:"",placeholder:"Describe the Bug..."},null,512),[[g,a.state.newBug.description]])]),n("div",K,[O,u(n("select",{class:"form-control action",name:"status",id:"status","onUpdate:modelValue":t[3]||(t[3]=e=>a.state.newBug.closed=e),required:""},[V,q],512),[[p,a.state.newBug.closed]])]),"true"===a.state.newBug.closed?(c(),d("div",L,[P,u(n("input",{type:"date",class:"form-control action",name:"closeDate",id:"closeDate","aria-describedby":"close-date","onUpdate:modelValue":t[4]||(t[4]=e=>a.state.newBug.closedDate=e)},null,512),[[g,a.state.newBug.closedDate]])])):(c(),d("div",I,[R,u(n("input",{type:"date",class:"form-control",name:"closeDate",id:"closeDate","aria-describedby":"close-date","onUpdate:modelValue":t[5]||(t[5]=e=>a.state.newBug.closedDate=e),readonly:""},null,512),[[g,a.state.newBug.closedDate]]),T])),_],32)])]),n("div",z,[n("div",F,[n("div",E,[G,H,J,n("div",M,[n("button",{type:"button",class:"btn btn-success mb-1",onClick:t[7]||(t[7]=(...e)=>a.filterStatus&&a.filterStatus(...e))}," All/Closed/Open ")])])])]),n("div",N,[(c(!0),d(m,null,f(a.state.bugsList,(e=>(c(),d("div",{class:"col-md-10 p-0 border border-dark",key:e.id},[n(b,{bug:e},null,8,["bug"])])))),128))])])}));v.render=Q,v.__scopeId="data-v-29e2220e";export default v;
